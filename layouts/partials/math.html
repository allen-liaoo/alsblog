<!-- Added for MathJax feature ($ for inline and macros) -->
<script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
<script>
  MathJax = {
    loader: {load: ['[tex]/bussproofs', '[tex]/ams', '[tex]/mathtools']},
    tex: {
      displayMath: [['\\[', '\\]'], ['$$', '$$']],  // block
      inlineMath: [['\\(', '\\)'],['$','$']],       // inline
      packages: {
        '[+]': ['bussproofs', 'ams', 'mathtools']
      },
      macros: {
        tf: "\\vdash"
      }
    },
    startup: {
      pageReady: () =>{
        // See https://docs.mathjax.org/en/latest/web/configuration.html#performing-actions-after-typesetting
        return MathJax.startup.defaultPageReady().then(() => {
          // event for after mathjax has typesetted
          const mathJaxLoaded = new CustomEvent("MathJaxTypesetted");
          window.dispatchEvent(mathJaxLoaded);
          console.log('MathJax initial typesetting complete');
        });
      }
    }
  };
</script>